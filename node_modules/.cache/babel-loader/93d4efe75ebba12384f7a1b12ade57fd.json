{"ast":null,"code":"import _createForOfIteratorHelper from\"C:\\\\Users\\\\as\\\\Desktop\\\\Parduotuve\\\\hyrosop_veikianti\\\\client\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createForOfIteratorHelper\";export var cartList=function cartList(){var carts=localStorage.getItem(\"cart\")?JSON.parse(localStorage.getItem(\"cart\")):null;var list=[];if(carts!==null){var _iterator=_createForOfIteratorHelper(carts),_step;try{for(_iterator.s();!(_step=_iterator.n()).done;){var cart=_step.value;list.push(cart.id);}}catch(err){_iterator.e(err);}finally{_iterator.f();}return list;}else{return list=null;}};export var updateQuantity=function updateQuantity(type,totalQuantitiy,quantitiy,setQuantitiy,setAlertq){if(type===\"increase\"){if(quantitiy===totalQuantitiy){setAlertq(true);}else{setQuantitiy(quantitiy+1);}}else if(type===\"decrease\"){if(quantitiy===1){setQuantitiy(1);setAlertq(false);}else{setQuantitiy(quantitiy-1);}}};export var slideImage=function slideImage(type,active,count,setCount,pImages){if(active===count){return true;}if(type===\"increase\"){if(count===pImages.length-1){setCount(0);}else if(count<pImages.length){setCount(count+1);}}};export var inCart=function inCart(id){if(localStorage.getItem(\"cart\")){var cartProducts=JSON.parse(localStorage.getItem(\"cart\"));var _iterator2=_createForOfIteratorHelper(cartProducts),_step2;try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){var product=_step2.value;if(product.id===id){return true;}}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}}return false;};export var addToCart=function addToCart(id,quantitiy,price,layoutDispatch,setQuantitiy,setAlertq,fetchData,totalCost){var isObj=false;var cart=localStorage.getItem(\"cart\")?JSON.parse(localStorage.getItem(\"cart\")):[];if(cart.length>0){cart.forEach(function(item){if(item.id===id){isObj=true;}});if(!isObj){cart.push({id:id,quantitiy:quantitiy,price:price});localStorage.setItem(\"cart\",JSON.stringify(cart));}}else{cart.push({id:id,quantitiy:quantitiy,price:price});localStorage.setItem(\"cart\",JSON.stringify(cart));}layoutDispatch({type:\"inCart\",payload:cartList()});layoutDispatch({type:\"cartTotalCost\",payload:totalCost()});setQuantitiy(1);setAlertq(false);fetchData();};","map":{"version":3,"names":["cartList","carts","localStorage","getItem","JSON","parse","list","cart","push","id","updateQuantity","type","totalQuantitiy","quantitiy","setQuantitiy","setAlertq","slideImage","active","count","setCount","pImages","length","inCart","cartProducts","product","addToCart","price","layoutDispatch","fetchData","totalCost","isObj","forEach","item","setItem","stringify","payload"],"sources":["C:/Users/as/Desktop/Parduotuve/hyrosop_veikianti/client/src/components/shop/productDetails/Mixins.js"],"sourcesContent":["export const cartList = () => {\n  let carts = localStorage.getItem(\"cart\")\n    ? JSON.parse(localStorage.getItem(\"cart\"))\n    : null;\n  let list = [];\n  if (carts !== null) {\n    for (let cart of carts) {\n      list.push(cart.id);\n    }\n    return list;\n  } else {\n    return (list = null);\n  }\n};\n\nexport const updateQuantity = (\n  type,\n  totalQuantitiy,\n  quantitiy,\n  setQuantitiy,\n  setAlertq\n) => {\n  if (type === \"increase\") {\n    if (quantitiy === totalQuantitiy) {\n      setAlertq(true);\n    } else {\n      setQuantitiy(quantitiy + 1);\n    }\n  } else if (type === \"decrease\") {\n    if (quantitiy === 1) {\n      setQuantitiy(1);\n      setAlertq(false);\n    } else {\n      setQuantitiy(quantitiy - 1);\n    }\n  }\n};\n\nexport const slideImage = (type, active, count, setCount, pImages) => {\n  if (active === count) {\n    return true;\n  }\n  if (type === \"increase\") {\n    if (count === pImages.length - 1) {\n      setCount(0);\n    } else if (count < pImages.length) {\n      setCount(count + 1);\n    }\n  }\n};\n\nexport const inCart = (id) => {\n  if (localStorage.getItem(\"cart\")) {\n    let cartProducts = JSON.parse(localStorage.getItem(\"cart\"));\n    for (let product of cartProducts) {\n      if (product.id === id) {\n        return true;\n      }\n    }\n  }\n  return false;\n};\n\nexport const addToCart = (\n  id,\n  quantitiy,\n  price,\n  layoutDispatch,\n  setQuantitiy,\n  setAlertq,\n  fetchData,\n  totalCost\n) => {\n  let isObj = false;\n  let cart = localStorage.getItem(\"cart\")\n    ? JSON.parse(localStorage.getItem(\"cart\"))\n    : [];\n  if (cart.length > 0) {\n    cart.forEach((item) => {\n      if (item.id === id) {\n        isObj = true;\n      }\n    });\n    if (!isObj) {\n      cart.push({ id, quantitiy, price });\n      localStorage.setItem(\"cart\", JSON.stringify(cart));\n    }\n  } else {\n    cart.push({ id, quantitiy, price });\n    localStorage.setItem(\"cart\", JSON.stringify(cart));\n  }\n  layoutDispatch({ type: \"inCart\", payload: cartList() });\n  layoutDispatch({ type: \"cartTotalCost\", payload: totalCost() });\n  setQuantitiy(1);\n  setAlertq(false);\n  fetchData();\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}